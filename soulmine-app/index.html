<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>SoulMine ‚Äî Web3 –ó–Ω–∞–∫–æ–º—Å—Ç–≤–∞ —Å $LOVE</title>
  <link rel="stylesheet" href="./styles/main.css">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">
  <script src="https://unpkg.com/@tonconnect/ui@latest/dist/tonconnect-ui.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
  <script src="https://unpkg.com/face-api.js@0.22.2/dist/face-api.min.js"></script>
</head>
<body>
  <!-- Splash Screen -->
  <div id="splash-screen" class="splash-screen">
    <div class="splash-content">
      <div class="splash-logo">üíú</div>
      <h1 class="splash-title">SoulMine</h1>
      <p class="splash-subtitle">–í—Å–µ–ª–µ–Ω–Ω–∞—è –õ—é–±–≤–∏ –Ω–∞ TON</p>
      <p class="splash-desc">–ì–¥–µ AI –Ω–∞—Ö–æ–¥–∏—Ç —Ç–≤–æ—é —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å, –∞ –∫–∞–∂–¥—ã–π –∑–≤–æ–Ω–æ–∫ = $LOVE</p>
      <div class="splash-loader">
        <div class="loader-heart">üíú</div>
        <div class="loader-heart">üíú</div>
        <div class="loader-heart">üíú</div>
      </div>
    </div>
  </div>

  <!-- AI Advice Popup -->
  <div id="ai-advice">
    <div id="ai-message">–û—Ç–ª–∏—á–Ω–∞—è —Ö–∏–º–∏—è! –ü—Ä–æ–¥–æ–ª–∂–∞–π—Ç–µ üëè</div>
  </div>

  <!-- Main Container -->
  <div class="container">
    <!-- Movement Banner (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –Ω–∞ –≥–ª–∞–≤–Ω–æ–º —ç–∫—Ä–∞–Ω–µ) -->
    <div class="movement-banner" style="display: none;">
      <p>üíú –¢—ã ‚Äî —á–∞—Å—Ç—å –¥–≤–∏–∂–µ–Ω–∏—è <strong>#LoveOnTON</strong></p>
      <p>–ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Å—è –∫ 1,000,000+ –∞–ø–æ—Å—Ç–æ–ª–æ–≤ –ª—é–±–≤–∏</p>
    </div>

    <!-- Main Screen -->
    <div id="main-screen" class="screen active">
      <div class="hero-section">
        <h1 class="app-logo">SoulMine</h1>
        <p class="app-slogan">Web3 –ó–Ω–∞–∫–æ–º—Å—Ç–≤–∞ —Å –º–∞–π–Ω–∏–Ω–≥–æ–º $LOVE</p>
        <p class="app-desc">AI –Ω–∞—Ö–æ–¥–∏—Ç —Ç–≤–æ—é –∏–¥–µ–∞–ª—å–Ω—É—é –ø–∞—Ä—É. –ö–∞–∂–¥–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ = –∫—Ä–∏–ø—Ç–∞.</p>
        <div class="zero-friction-slogan">
          üíû –ù—É–ª–µ–≤–æ–µ —Ç—Ä–µ–Ω–∏–µ: –ø–æ–¥–∫–ª—é—á–∏–ª –∫–æ—à–µ–ª–µ–∫ ‚Äî –ø–æ–ª—É—á–∏–ª $LOVE
        </div>
      </div>

      <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –∫–Ω–æ–ø–∫–∏ TonConnect UI -->
      <div id="ton-connect-button-container" style="margin-bottom: 20px;"></div>

      <div id="wallet-info" style="display: none; background: rgba(0,0,0,0.3); padding: 16px; border-radius: 12px; margin-bottom: 20px;">
        <strong>–ê–¥—Ä–µ—Å:</strong> <span id="wallet-address-display">...</span>
      </div>

      <div style="display: flex; gap: 10px; margin: 20px 0;">
        <button onclick="showScreen('quests')" class="btn btn-secondary" style="flex: 1;">üèÜ –ö–≤–µ—Å—Ç—ã</button>
        <button onclick="showScreen('history')" class="btn btn-secondary" style="flex: 1;">üìû –ò—Å—Ç–æ—Ä–∏—è</button>
      </div>

      <button onclick="findRandomPartner()" class="btn btn-primary" style="width: 100%; margin: 20px 0;">
        üíò –ù–∞–π—Ç–∏ —Å–ª—É—á–∞–π–Ω—É—é –ø–∞—Ä—É
      </button>

      <button onclick="showScreen('swipe-screen')" class="btn btn-secondary" style="width: 100%; margin: 10px 0;">
        üëâ –°–≤–∞–π–ø–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª–∏
      </button>

      <div class="resource-links">
        <a href="https://t.me/LoveSoulMine_Bot" target="_blank">ü§ñ Telegram Bot</a>
        <a href="https://github.com/AmberTapp/soulmine-web" target="_blank">üíª GitHub</a>
      </div>
    </div>

    <!-- –û—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π... -->
    <!-- Swipe Screen, Profile, Quests, History, DAO, Contacts, Modals -->

  </div>

  <!-- Navigation -->
  <div class="nav">
    <button class="nav-btn active" onclick="showScreen('main-screen')">
      <div class="nav-icon">üè†</div>
      <div>–ì–ª–∞–≤–Ω–∞—è</div>
    </button>
    <button class="nav-btn" onclick="showScreen('swipe-screen')">
      <div class="nav-icon">‚ù§Ô∏è</div>
      <div>–°–≤–∞–π–ø—ã</div>
    </button>
    <button class="nav-btn" onclick="showScreen('profile')">
      <div class="nav-icon">üë§</div>
      <div>–ü—Ä–æ—Ñ–∏–ª—å</div>
    </button>
    <button class="nav-btn" onclick="showScreen('quests')">
      <div class="nav-icon">üèÜ</div>
      <div>–ö–≤–µ—Å—Ç—ã</div>
    </button>
    <button class="nav-btn" onclick="showScreen('dao')">
      <div class="nav-icon">üèõÔ∏è</div>
      <div>DAO</div>
    </button>
  </div>

  <!-- Scripts -->
  <script src="./scripts/utils.js" type="module"></script>
  <script src="./scripts/ton.js" type="module"></script>
  <script src="./scripts/main.js" type="module"></script>
  <script src="./scripts/video-call.js" type="module"></script>
  <script src="./scripts/dao.js" type="module"></script>
  <script src="./scripts/contacts.js" type="module"></script>

  <script>
    // –î–ª—è –æ—Ç–º–µ–Ω—ã –ø–æ–∏—Å–∫–∞
    function cancelSearch() {
      if (window.isSearching && window.ws && window.ws.readyState === WebSocket.OPEN) {
        window.ws.send(JSON.stringify({ type: 'cancel_search' }));
        window.isSearching = false;
      }
      document.getElementById('searching-modal').style.display = 'none';
    }
  </script>
</body>
</html>