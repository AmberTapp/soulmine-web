<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>SoulMine ‚Äî Web3 –ó–Ω–∞–∫–æ–º—Å—Ç–≤–∞ —Å $LOVE</title>
  <link rel="stylesheet" href="./styles/main.css">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">
  <!-- TonConnect UI -->
  <script src="https://unpkg.com/@tonconnect/ui@latest/dist/tonconnect-ui.min.js"></script>
  <!-- Canvas Confetti -->
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
  <!-- Face API -->
  <script src="https://unpkg.com/face-api.js@0.22.2/dist/face-api.min.js"></script>
</head>
<body>
  <!-- Splash Screen -->
  <div id="splash-screen" class="splash-screen">
    <div class="splash-content">
      <div class="splash-logo">üíú</div>
      <h1 class="splash-title">SoulMine</h1>
      <p class="splash-subtitle">–í—Å–µ–ª–µ–Ω–Ω–∞—è –õ—é–±–≤–∏ –Ω–∞ TON</p>
      <p class="splash-desc">–ì–¥–µ AI –Ω–∞—Ö–æ–¥–∏—Ç —Ç–≤–æ—é —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å, –∞ –∫–∞–∂–¥—ã–π –∑–≤–æ–Ω–æ–∫ = $LOVE</p>
      <div class="splash-loader">
        <div class="loader-heart">üíú</div>
        <div class="loader-heart">üíú</div>
        <div class="loader-heart">üíú</div>
      </div>
    </div>
  </div>

  <!-- Main Container -->
  <div class="container">
    <div class="hero-section">
      <h1 class="app-logo">SoulMine</h1>
      <p class="app-slogan">Web3 –ó–Ω–∞–∫–æ–º—Å—Ç–≤–∞ —Å –º–∞–π–Ω–∏–Ω–≥–æ–º $LOVE</p>
      <p class="app-desc">AI –Ω–∞—Ö–æ–¥–∏—Ç —Ç–≤–æ—é –∏–¥–µ–∞–ª—å–Ω—É—é –ø–∞—Ä—É. –ö–∞–∂–¥–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ = –∫—Ä–∏–ø—Ç–∞.</p>
      <div class="zero-friction-slogan">
        üíû –ù—É–ª–µ–≤–æ–µ —Ç—Ä–µ–Ω–∏–µ: –ø–æ–¥–∫–ª—é—á–∏–ª –∫–æ—à–µ–ª–µ–∫ ‚Äî –ø–æ–ª—É—á–∏–ª $LOVE
      </div>

      <!-- üõ†Ô∏è –†–ê–ë–û–ß–ê–Ø –ö–ù–û–ü–ö–ê –ü–û–î–ö–õ–Æ–ß–ï–ù–ò–Ø –ö–û–®–ï–õ–Å–ö–ê -->
      <div id="ton-connect-button-container" style="margin: 20px 0;"></div>

      <!-- üöÄ –ö–ù–û–ü–ö–ò –°–°–´–õ–û–ö –ù–ê –ë–û–¢–ê, –ö–ê–ù–ê–õ –ò –°–£–ü–ü–û–†–¢ -->
      <div style="display: flex; flex-direction: column; gap: 10px; margin: 20px 0;">
        <button onclick="openInTelegram('https://t.me/LoveSoulMine_Bot')" 
                class="btn btn-secondary" style="width: 100%; padding: 12px; font-size: 16px;">
          ü§ñ –ü–µ—Ä–µ–π—Ç–∏ –≤ Telegram-–±–æ—Ç–∞
        </button>
        <button onclick="openInTelegram('https://t.me/SoulMineNews')" 
                class="btn btn-secondary" style="width: 100%; padding: 12px; font-size: 16px;">
          üì£ –ü–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –∫–∞–Ω–∞–ª
        </button>
        <button onclick="openInTelegram('https://t.me/SoulMineSupport')" 
                class="btn btn-secondary" style="width: 100%; padding: 12px; font-size: 16px;">
          ‚ùì –û–±—Ä–∞—Ç–∏—Ç—å—Å—è –≤ —Å—É–ø–ø–æ—Ä—Ç
        </button>
      </div>

      <!-- üîó –†–ï–§–ï–†–ê–õ–¨–ù–ê–Ø –°–°–´–õ–ö–ê -->
      <button onclick="copyReferralLink()" class="btn btn-secondary" style="width: 100%; margin: 20px 0; padding: 12px; font-size: 16px;">
        üåê –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω—É—é —Å—Å—ã–ª–∫—É
      </button>
    </div>
  </div>

  <!-- Navigation -->
  <div class="nav">
    <button class="nav-btn active" onclick="showScreen('main-screen')">
      <div class="nav-icon">üè†</div>
      <div>–ì–ª–∞–≤–Ω–∞—è</div>
    </button>
    <button class="nav-btn" onclick="showScreen('swipe-screen')">
      <div class="nav-icon">‚ù§Ô∏è</div>
      <div>–°–≤–∞–π–ø—ã</div>
    </button>
    <button class="nav-btn" onclick="showScreen('profile')">
      <div class="nav-icon">üë§</div>
      <div>–ü—Ä–æ—Ñ–∏–ª—å</div>
    </button>
    <button class="nav-btn" onclick="showScreen('quests')">
      <div class="nav-icon">üèÜ</div>
      <div>–ö–≤–µ—Å—Ç—ã</div>
    </button>
    <button class="nav-btn" onclick="showScreen('dao')">
      <div class="nav-icon">üèõÔ∏è</div>
      <div>DAO</div>
    </button>
  </div>

  <!-- Scripts -->
  <script src="./scripts/utils.js" type="module"></script>
  <script src="./scripts/ton.js" type="module"></script>
  <script src="./scripts/main.js" type="module"></script>
  <script src="./scripts/video-call.js" type="module"></script>
  <script src="./scripts/dao.js" type="module"></script>
  <script src="./scripts/contacts.js" type="module"></script>

  <script>
    // –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–æ–π —Å—Å—ã–ª–∫–∏
    function copyReferralLink() {
      if (!appState.userAddress) {
        showViralToast("‚ùå –°–Ω–∞—á–∞–ª–∞ –ø–æ–¥–∫–ª—é—á–∏—Ç–µ –∫–æ—à–µ–ª—ë–∫!");
        return;
      }
      const refLink = `https://t.me/LoveSoulMine_Bot?start=ref_${encodeURIComponent(appState.userAddress)}`;
      navigator.clipboard.writeText(refLink)
        .then(() => showViralToast("üîó –°—Å—ã–ª–∫–∞ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞! –ü—Ä–∏–≥–ª–∞—Å–∏—Ç–µ –¥—Ä—É–∑–µ–π –∏ –ø–æ–ª—É—á–∏—Ç–µ NFT!"))
        .catch(err => showViralToast("‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É"));
    }

    // –û—Ç–∫—Ä—ã—Ç–∏–µ —Å—Å—ã–ª–∫–∏ –≤ Telegram
    function openInTelegram(url) {
      if (window.Telegram?.WebApp?.openLink) {
        window.Telegram.WebApp.openLink(url);
      } else {
        window.open(url, '_blank');
      }
    }

    // –ó–∞–≥—Ä—É–∂–∞–µ–º Telegram Web App API
    if (window.Telegram && window.Telegram.WebApp) {
      window.Telegram.WebApp.ready();
      window.Telegram.WebApp.expand();
    }
  </script>
</body>
</html>